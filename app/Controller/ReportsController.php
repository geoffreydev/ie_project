<?php	App::import('component', 'CakeSession');   	App::uses('Controller', 'Users'); 		class ReportsController extends AppController	{		public $helpers = array('Html', 'Form','Js','Paginator');		public $name = "Reports";		public $data = null;		var $uses = array('User', 'Event','Dog');		 		public function index()		{        		}        public function customers() {            $keywords = NULL;            $this->set('users',$this->paginate());            $this->set('keywords',$keywords);        }        public function searchcustomers()        {            $keywords=$this->params->query['keywords'];            $this->set('keywords',$keywords);            $cond = array();            $this->set('users',$this->paginate());            $this->set('users',null);            if (!empty($this->params->query['keywords'])){                $cond=array('OR'=>array("User.last_name LIKE '%$keywords%'","User.mobile_phone LIKE '%$keywords%'", "User.work_phone LIKE '%$keywords%'","User.landline_phone LIKE '%$keywords%'",)  );            }            $count = $this->User->find('count', array('conditions' => $cond));            $this->set('count',$count);            $this->set('as',$this->paginate($cond));        }        public function customer($userId=null) {            if (!empty($userId)) {                $this->set("dogs",$this->Dog->find("all",array('conditions'=>array('Dog.dog_userid'=>$userId, 'Dog.status'=>1),'fields'=>array('Dog.id','Dog.name', 'Dog.breed','Dog.weight', 'Dog.sex','Dog.age', 'Dog.comment'))));                $this->set("deaddogs",$this->Dog->find("all",array('conditions'=>array('Dog.dog_userid'=>$userId, 'Dog.status'=>0),'fields'=>array('Dog.id','Dog.name', 'Dog.breed','Dog.weight', 'Dog.sex','Dog.age', 'Dog.comment'))));                $this->set("events",$this->Event->find("all",array('conditions'=>array('Event.event_userid'=>$userId),'order' => 'Event.date ASC','fields'=>array('Event.id','Event.date','Event.price','Event.event_theme', 'Event.event_comment','Event.hour','Event.minute','Event.proplanning'))));                $user = $this->User->read(null, $userId);                $this->set('user', $user);            } else {                $this->redirect('/customers');            }        }					}							?>